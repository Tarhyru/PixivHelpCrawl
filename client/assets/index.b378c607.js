import{r as s,H as h,j as t,G as N,F as m,o as n}from"./react-venders.669d625f.js";import{A as f,p as c,U as C,a9 as I}from"./index.c8ca1af3.js";import{B as O}from"./button.ce6ccd71.js";import{T as u}from"./index.2f9c0b72.js";import{A as E,P as H,d as y,E as w,B as A,C as b}from"./css.520be33d.js";import{l as o,a as B}from"./index.b0ecaf29.js";import"./RouteContext.0a09958b.js";import"./PortalWrapper.4cc9adbc.js";var L={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},$=L,g=function(r,a){return s.exports.createElement(f,c(c({},r),{},{ref:a,icon:$}))};g.displayName="EditOutlined";var p=s.exports.forwardRef(g),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]},name:"heart",theme:"outlined"},z=S,v=function(r,a){return s.exports.createElement(f,c(c({},r),{},{ref:a,icon:z}))};v.displayName="HeartOutlined";var D=s.exports.forwardRef(v);function G(){const{id:l}=h();return t(C.exports.KeepAlive,{id:`ImageDetail-${l}`,cashKey:"ImageDetail",children:t(j,{})})}function j(){const{id:l}=h(),r=N(),[a,k]=s.exports.useState();return s.exports.useEffect(()=>{E({id:l}).then(e=>{e.contents&&k(e.contents)})},[]),t(H,{className:"image-detail-content",title:t("div",{className:"query-content",children:t("div",{className:"query-item",children:t(O,{onClick:()=>{r.goBack()},children:"\u8FD4\u56DE"})})}),extra:t(m,{children:a&&n("div",{className:"flex items-center flex-wrap",style:{minHeight:"32px"},children:[t("div",{className:"flex-1 truncate",onClick:()=>{o({api:(()=>{const e={id:a.id};return i=>(e.like=i,y(e))})(),name:a.title})},children:a.title}),n("div",{children:[n("span",{className:"ml-2",children:[t(w,{}),a.totalView]}),n("span",{className:"ml-1",children:[t(D,{}),a.totalBookmarks]})]})]})}),children:a?n(m,{children:[(a.detailUrls||[]).map(e=>t(B,{src:e},e)),t("div",{className:"p-1",children:(a.tags||[]).map(e=>{const i=e.customName||e.translatedName||e.name;return n("span",{className:"mb-1 inline-block mr-2",children:[t(u,{onClick:()=>{r.push(`/detail/tagImages?name=${e.name}`)},children:i}),t(p,{onClick:()=>{o({api:(()=>{const d={name:e.name};return x=>(d.like=x,A(d))})(),name:i})}})]},e.name)})}),t("div",{className:"p-1 mt-1",children:n("span",{className:"mb-1 inline-block",children:[n(u,{color:"green",onClick:()=>{r.push(`/detail/AuthorImages?id=${a.author.id}`)},children:["\u4F5C\u8005:",a.author.name]}),t(p,{onClick:()=>{o({api:(()=>{const e={id:a.author.id};return i=>(e.like=i,b(e))})(),name:a.author.name})}})]})})]}):t(I,{spinning:!0,className:"w-full"})})}export{G as default};
